{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar react_1 = require(\"react\");\nfunction useLocalStorage(key, defaultValue, options) {\n  var opts = (0, react_1.useMemo)(function () {\n    return __assign({\n      serializer: JSON.stringify,\n      parser: JSON.parse,\n      logger: console.log,\n      syncData: true\n    }, options);\n  }, [options]);\n  var serializer = opts.serializer,\n    parser = opts.parser,\n    logger = opts.logger,\n    syncData = opts.syncData;\n  var rawValueRef = (0, react_1.useRef)(null);\n  var _a = (0, react_1.useState)(function () {\n      if (typeof window === \"undefined\") return defaultValue;\n      try {\n        rawValueRef.current = window.localStorage.getItem(key);\n        var res = rawValueRef.current ? parser(rawValueRef.current) : defaultValue;\n        return res;\n      } catch (e) {\n        logger(e);\n        return defaultValue;\n      }\n    }),\n    value = _a[0],\n    setValue = _a[1];\n  (0, react_1.useEffect)(function () {\n    if (typeof window === \"undefined\") return;\n    var updateLocalStorage = function () {\n      // Browser ONLY dispatch storage events to other tabs, NOT current tab.\n      // We need to manually dispatch storage event for current tab\n      if (value !== undefined) {\n        var newValue = serializer(value);\n        var oldValue = rawValueRef.current;\n        rawValueRef.current = newValue;\n        window.localStorage.setItem(key, newValue);\n        window.dispatchEvent(new StorageEvent(\"storage\", {\n          storageArea: window.localStorage,\n          url: window.location.href,\n          key: key,\n          newValue: newValue,\n          oldValue: oldValue\n        }));\n      } else {\n        window.localStorage.removeItem(key);\n        window.dispatchEvent(new StorageEvent(\"storage\", {\n          storageArea: window.localStorage,\n          url: window.location.href,\n          key: key\n        }));\n      }\n    };\n    try {\n      updateLocalStorage();\n    } catch (e) {\n      logger(e);\n    }\n  }, [value]);\n  (0, react_1.useEffect)(function () {\n    if (!syncData) return;\n    var handleStorageChange = function (e) {\n      if (e.key !== key || e.storageArea !== window.localStorage) return;\n      try {\n        if (e.newValue !== rawValueRef.current) {\n          rawValueRef.current = e.newValue;\n          setValue(e.newValue ? parser(e.newValue) : undefined);\n        }\n      } catch (e) {\n        logger(e);\n      }\n    };\n    if (typeof window === \"undefined\") return;\n    window.addEventListener(\"storage\", handleStorageChange);\n    return function () {\n      return window.removeEventListener(\"storage\", handleStorageChange);\n    };\n  }, [key, syncData]);\n  return [value, setValue];\n}\nexports.default = useLocalStorage;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","defineProperty","exports","value","react_1","require","useLocalStorage","key","defaultValue","options","opts","useMemo","serializer","JSON","stringify","parser","parse","logger","console","log","syncData","rawValueRef","useRef","_a","useState","window","current","localStorage","getItem","res","e","setValue","useEffect","updateLocalStorage","undefined","newValue","oldValue","setItem","dispatchEvent","StorageEvent","storageArea","url","location","href","removeItem","handleStorageChange","addEventListener","removeEventListener","default"],"sources":["C:/Users/kin_v/OneDrive/Documents/Orbital/orbital-code/node_modules/use-local-storage/dist/index.js"],"sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = require(\"react\");\nfunction useLocalStorage(key, defaultValue, options) {\n    var opts = (0, react_1.useMemo)(function () {\n        return __assign({ serializer: JSON.stringify, parser: JSON.parse, logger: console.log, syncData: true }, options);\n    }, [options]);\n    var serializer = opts.serializer, parser = opts.parser, logger = opts.logger, syncData = opts.syncData;\n    var rawValueRef = (0, react_1.useRef)(null);\n    var _a = (0, react_1.useState)(function () {\n        if (typeof window === \"undefined\")\n            return defaultValue;\n        try {\n            rawValueRef.current = window.localStorage.getItem(key);\n            var res = rawValueRef.current\n                ? parser(rawValueRef.current)\n                : defaultValue;\n            return res;\n        }\n        catch (e) {\n            logger(e);\n            return defaultValue;\n        }\n    }), value = _a[0], setValue = _a[1];\n    (0, react_1.useEffect)(function () {\n        if (typeof window === \"undefined\")\n            return;\n        var updateLocalStorage = function () {\n            // Browser ONLY dispatch storage events to other tabs, NOT current tab.\n            // We need to manually dispatch storage event for current tab\n            if (value !== undefined) {\n                var newValue = serializer(value);\n                var oldValue = rawValueRef.current;\n                rawValueRef.current = newValue;\n                window.localStorage.setItem(key, newValue);\n                window.dispatchEvent(new StorageEvent(\"storage\", {\n                    storageArea: window.localStorage,\n                    url: window.location.href,\n                    key: key,\n                    newValue: newValue,\n                    oldValue: oldValue,\n                }));\n            }\n            else {\n                window.localStorage.removeItem(key);\n                window.dispatchEvent(new StorageEvent(\"storage\", {\n                    storageArea: window.localStorage,\n                    url: window.location.href,\n                    key: key,\n                }));\n            }\n        };\n        try {\n            updateLocalStorage();\n        }\n        catch (e) {\n            logger(e);\n        }\n    }, [value]);\n    (0, react_1.useEffect)(function () {\n        if (!syncData)\n            return;\n        var handleStorageChange = function (e) {\n            if (e.key !== key || e.storageArea !== window.localStorage)\n                return;\n            try {\n                if (e.newValue !== rawValueRef.current) {\n                    rawValueRef.current = e.newValue;\n                    setValue(e.newValue ? parser(e.newValue) : undefined);\n                }\n            }\n            catch (e) {\n                logger(e);\n            }\n        };\n        if (typeof window === \"undefined\")\n            return;\n        window.addEventListener(\"storage\", handleStorageChange);\n        return function () { return window.removeEventListener(\"storage\", handleStorageChange); };\n    }, [key, syncData]);\n    return [value, setValue];\n}\nexports.default = useLocalStorage;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}